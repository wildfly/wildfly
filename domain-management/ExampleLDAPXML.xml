

  <authentication>
    <ldap connection="..." base-dn="..." recursive="..." user-dn="..." allow-empty-passwords="...">
      <username-filter attribute="..." />
      <advanced-filter filter="..." />
    </ldap>
  </authentication>

  <authorization>
    <ldap connection="..." >
      <username-to-dn  force="...">  <!-- force causes any dn conversion during authentication to be ignored. -->
        <username-is-dn />
        <username-filter base-dn="..." recursive="..." attribute="..." />
        <advanced-filter base-dn="..." recursive="..." filter="..." />
      </username-to-dn>
      <group-search group-name="simple/dn"  <!-- Should simple group names be used or the distinguished names? -->
                    iterative="..." <!-- Search if loaded group is also a member of another group. -->    
                    group-dn-attribute="..." <!-- The attribute on the group object that is it's distinguished name. -->
                    group-name-attribute="..." <!-- The attribute on the group object that is it's simple name. -->
                    search-by="dn/simple" <!-- Is the group-attribute a simple group name or it's dn? -->
      >
        <group-to-principal  
                            base-dn="..."   <!-- Groups may be under a different DN to the user. -->
                            recursive="..." <!-- Search one level or traverse hierarchy -->                            
        >
          <membership-filter principal-attribute="..."  <!-- Attribute on the group object that references the principal. -->
          />
        </group-to-principal>
        <principal-to-group group-attribute="..." <!-- Attribute on the principal that references the group -->
        />        
      </group-search>
    </ldap>
  </authorization>


            <security-realm name="LdapOne">
                <authentication>
                    <local default-user="$local"/>
                    <properties path="mgmt-users.properties" relative-to="jboss.server.config.dir"/>
                </authentication>
                <authorization map-groups-to-roles="false">
                    <ldap connection="xxx">
                        <username-to-dn force="false">
                          <username-is-dn />
                        </username-to-dn>
                        <group-search group-name="DISTINGUISHED_NAME" iterative="true" group-dn-attribute="AAA" group-name-attribute="BBB" search-by="SIMPLE">
                          <group-to-principal base-dn="CCC" recursive="true">
                              <membership-filter principal-attribute="DDD"/>
                          </group-to-principal>
                        </group-search>
                    </ldap>
                </authorization>
            </security-realm>
            <security-realm name="LdapTwo">
                <authentication>
                    <local default-user="$local"/>
                    <properties path="mgmt-users.properties" relative-to="jboss.server.config.dir"/>
                </authentication>
                <authorization map-groups-to-roles="false">
                    <ldap connection="xxx">
                        <username-to-dn force="true">
                          <username-filter base-dn="EEE" recursive="true" attribute="FFF" />
                        </username-to-dn>
                        <group-search group-name="DISTINGUISHED_NAME" iterative="true" group-dn-attribute="AAA" group-name-attribute="BBB" search-by="SIMPLE">
                          <principal-to-group group-attribute="GGG" />
                        </group-search>
                    </ldap>
                </authorization>
            </security-realm>
            <security-realm name="LdapThree">
                <authentication>
                    <local default-user="$local"/>
                    <properties path="mgmt-users.properties" relative-to="jboss.server.config.dir"/>
                </authentication>
                <authorization map-groups-to-roles="false">
                    <ldap connection="xxx">
                        <username-to-dn force="true">
                          <advanced-filter base-dn="EEE" recursive="true" filter="GGG" />
                        </username-to-dn>
                        <group-search group-name="DISTINGUISHED_NAME" iterative="true" group-dn-attribute="AAA" group-name-attribute="BBB" search-by="SIMPLE">
                          <principal-to-group group-attribute="GGG" />
                        </group-search>
                    </ldap>
                </authorization>
            </security-realm>
            <security-realm name="LdapFour">
                <authentication>
                    <local default-user="$local"/>
                    <properties path="mgmt-users.properties" relative-to="jboss.server.config.dir"/>
                </authentication>
                <authorization map-groups-to-roles="false">
                    <ldap connection="xxx">
                        <group-search group-name="DISTINGUISHED_NAME" iterative="true" group-dn-attribute="AAA" group-name-attribute="BBB" search-by="SIMPLE">
                          <group-to-principal base-dn="CCC" recursive="true">
                              <membership-filter principal-attribute="DDD"/>
                          </group-to-principal>
                        </group-search>
                    </ldap>
                </authorization>
            </security-realm>
