<subsystem xmlns="urn:jboss:domain:ejb3:1.3">

    <remote connector-ref="remoting-connector" thread-pool-name="default">
        <channel-creation-options>
            <option name="org.xnio.Options.READ_TIMEOUT" value="20"/>
            <option name="org.jboss.remoting3.RemotingOptions.MAX_OUTBOUND_MESSAGES" value="1234"/>
        </channel-creation-options>
    </remote>

    <async thread-pool-name="default"/>

    <timer-service thread-pool-name="default">
        <data-store path="timer-service-data" relative-to="jboss.server.data.dir"/>
    </timer-service>

    <!-- Disable pass-by-value for in-vm remote interface invocations on EJBs -->
    <in-vm-remote-interface-invocation pass-by-value="false"/>

    <!-- EJB3 pools -->
    <pools>
        <bean-instance-pools>
            <strict-max-pool name="slsb-strict-max-pool" max-pool-size="20" instance-acquisition-timeout="5"
                             instance-acquisition-timeout-unit="MINUTES"/>
            <strict-max-pool name="entity-strict-max-pool" max-pool-size="20" instance-acquisition-timeout="5"
                             instance-acquisition-timeout-unit="MINUTES"/>
        </bean-instance-pools>
    </pools>
    <caches>
        <cache name="simple"/>
        <cache name="passivating" passivation-store-ref="file"/>
        <cache name="clustered" passivation-store-ref="cluster"/>
    </caches>
    <passivation-stores>
        <file-passivation-store name="file"/>
        <cluster-passivation-store name="cluster" cache-container="sfsb" bean-cache="repl" client-mappings-cache="client-mappings"/>
    </passivation-stores>

    <!-- Session bean configurations -->
    <session-bean>
        <stateless>
            <bean-instance-pool-ref pool-name="slsb-strict-max-pool"/>
        </stateless>
        <stateful default-access-timeout="5000" cache-ref="file" clustered-cache-ref="cluster"/>
        <singleton default-access-timeout="5000"/>

    </session-bean>

    <thread-pools>
        <thread-pool name="default">
            <max-threads count="10"/>
            <keepalive-time time="100" unit="milliseconds"/>
        </thread-pool>
    </thread-pools>
    <entity-bean>
        <optimistic-locking enabled="true" />
        <bean-instance-pool-ref pool-name="entity-strict-max-pool"/>
    </entity-bean>

    <iiop use-qualified-name="true" enable-by-default="true"/>

    <default-distinct-name value="myname" />

    <statistics enabled="true" />
</subsystem>
